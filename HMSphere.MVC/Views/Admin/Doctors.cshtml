@model IEnumerable<HMSphere.MVC.ViewModels.DoctorViewModel>

@{
	ViewData["Title"] = "Doctors";
}

<style>
	.table td, .table th {
		text-align: center;
		vertical-align: middle;
	}

	.btn-view {
		background-color: #2a9fd9;
		color: white;
		border-radius: 20px;
		padding: 5px 15px;
	}

		.btn-view:hover {
			background-color: #17a2b8;
		}

	a {
		text-decoration: none;
	}

	.btn{
		margin-right:10px;
	}

	.btn:hover{
		color:white;
	}

</style>

<div class="container mt-4">
	<div class="d-flex justify-content-between mb-4">
		<h2>Doctors</h2>
	</div>

	<div class="row mb-3">
		<div class="col-md-3">
			<input type="text" class="form-control" placeholder="Search by Name">
		</div>
		<div class="col-md-3">
			<input type="text" class="form-control" placeholder="Search by Specialization">
		</div>
		<div class="col-md-3">
			<button class="btn btn-primary w-100">Search</button>
		</div>
	</div>

	<div class="table-responsive">
		<table class="table table-striped">
			<thead>
				<tr>
					<th>First Name</th>
					<th>Last Name</th>
					<th>Department</th>
					<th>Specialization</th>
					<th>Phone No.</th>
					<th>Actions</th>

				</tr>
			</thead>
			<tbody>
				</tr>
				@foreach (var doctor in Model)
				{
					<tr>
						<td>@doctor.FirstName</td>
						<td>@doctor.LastName</td>
						<td>@doctor.Department</td>
						<td>@doctor.Specialization</td>
						<td>@doctor.PhoneNumber</td>
						<td class="d-flex justify-content-center" style="gap:2px">

							<!-- Doctor Edit Button -->
							<form asp-controller="Admin" asp-action="Doctors" asp-route-data="@doctor.Department" method="get">
								<input type="hidden" name="Doctor" value="@doctor.Department" />
								@* <button type="submit" class="btn btn-view">View</button> *@
								<button type="submit" asp-controller="Admin" asp-action="UpdateDoctor" class="btn btn-outline-dark">
									@* <a asp-controller="Admin" asp-action="UpdateDoctor" class="text-dark">Edit</a> *@
									Edit
								</button>
							</form>

							<!-- Doctor Details Button -->
							<form asp-controller="Admin" asp-action="DoctorDetails" asp-route-id="@doctor.Id" method="get">
								<input type="hidden" name="StaffId" value="@doctor.Id" />
								<button type="submit" class="btn btn-outline-primary">
									Details
								</button>
							</form>

							<!-- Delete Doctor Button -->
							<form asp-controller="Admin" asp-action="DeleteDoctor" asp-route-id="@doctor.Id" method="get">
								<input type="hidden" name="StaffId" value="@doctor.Id" />
								<button type="submit" class="btn btn-outline-danger">
									Delete
								</button>
							</form>

							<!-- Assign Doctor to Shift Button -->
							<form asp-controller="Admin" asp-action="AssignDoctorToShift" asp-route-id="@doctor.Id" method="get">
								<input type="hidden" name="StaffId" value="@doctor.Id" />
								<button type="submit" class="btn btn-outline-success">
									Assign to Shift
								</button>
							</form>
						</td>
					</tr>
				}
			</tbody>
		</table>

	</div>
</div>

